<div class="pricing-container">
  <!-- Hero Section -->
  <div class="pricing-hero">
    <div class="hero-content">
      <h1>Simple, Transparent Pricing</h1>
      <p>Choose the perfect plan for your team. Start with a 14-day free trial, no credit card required.</p>
      
      <!-- Billing Toggle -->
      <div class="billing-toggle">
        <span class="toggle-label" [class.active]="billingCycle === 'monthly'">Monthly</span>
        <button class="toggle-switch" (click)="toggleBillingCycle()" [class.yearly]="billingCycle === 'yearly'">
          <div class="toggle-slider"></div>
        </button>
        <span class="toggle-label" [class.active]="billingCycle === 'yearly'">
          Yearly 
          <span class="savings-badge">Save {{ getSavingsPercentage() }}%</span>
        </span>
      </div>
    </div>
  </div>

  <!-- Pricing Plans -->
  <div class="pricing-plans">
    <div class="plans-grid">
      <div *ngFor="let plan of currentPlans" 
           class="plan-card"
           [class.recommended]="plan.recommended"
           [class.popular]="plan.popular">
        
        <!-- Plan Header -->
        <div class="plan-header">
          <span *ngIf="plan.popular" class="popular-badge">Most Popular</span>
          <span *ngIf="plan.recommended" class="recommended-badge">Recommended</span>
          
          <h3>{{ plan.name }}</h3>
          <p class="plan-description">{{ plan.description }}</p>
          
          <div class="plan-pricing">
            <div class="price-display">
              <span *ngIf="!plan.customPrice" class="price">${{ plan.price }}</span>
              <span *ngIf="plan.customPrice" class="price custom">{{ plan.customPrice }}</span>
              <span *ngIf="!plan.customPrice" class="period">
                /{{ plan.billingPeriod === 'month' ? 'month' : 'month' }}
              </span>
            </div>
            
            <div *ngIf="plan.billingPeriod === 'year' && !plan.customPrice" class="yearly-note">
              ${{ getAnnualPrice(plan.price) }} billed annually
            </div>
            
            <div class="user-limit">
              Up to {{ plan.maxUsers === 999 ? 'unlimited' : plan.maxUsers }} users
            </div>
          </div>
        </div>

        <!-- Plan Features -->
        <div class="plan-features">
          <ul>
            <li *ngFor="let feature of plan.features" class="feature-included">
              <i class="feature-icon included"></i>
              <span>{{ feature }}</span>
            </li>
            <li *ngFor="let limitation of plan.limitations || []" class="feature-limited">
              <i class="feature-icon limited"></i>
              <span>{{ limitation }}</span>
            </li>
          </ul>
        </div>

        <!-- Plan Action -->
        <div class="plan-action">
          <button 
            class="plan-button"
            [class.primary]="plan.recommended || plan.popular"
            [class.secondary]="!plan.recommended && !plan.popular && plan.id !== 'custom'"
            [class.outline]="plan.id === 'custom'"
            (click)="selectPlan(plan)">
            {{ plan.buttonText }}
          </button>
          
          <div *ngIf="plan.id !== 'custom'" class="trial-note">
            14-day free trial included
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Feature Comparison -->
  <div class="feature-comparison">
    <div class="comparison-header">
      <h2>Compare Plans</h2>
      <p>See what's included in each plan to find the perfect fit for your team</p>
    </div>

    <div class="comparison-table">
      <!-- Table Header -->
      <div class="table-header">
        <div class="feature-column">Features</div>
        <div class="plan-column">
          <div class="plan-name">Starter</div>
          <div class="plan-price">${{ billingCycle === 'monthly' ? '19' : '15' }}/month</div>
        </div>
        <div class="plan-column highlighted">
          <div class="plan-name">Professional</div>
          <div class="plan-price">${{ billingCycle === 'monthly' ? '49' : '39' }}/month</div>
          <div class="most-popular">Most Popular</div>
        </div>
        <div class="plan-column">
          <div class="plan-name">Enterprise</div>
          <div class="plan-price">${{ billingCycle === 'monthly' ? '149' : '119' }}/month</div>
        </div>
        <div class="plan-column">
          <div class="plan-name">Custom</div>
          <div class="plan-price">Contact Sales</div>
        </div>
      </div>

      <!-- Feature Categories -->
      <div *ngFor="let category of featureComparison" class="feature-category">
        <div class="category-header">
          <h4>{{ category.category }}</h4>
        </div>
        
        <div *ngFor="let feature of category.features" class="feature-row">
          <div class="feature-name">{{ feature.name }}</div>
          
          <div class="feature-value" 
               [class.included]="isFeatureIncluded(feature, 'starter')"
               [class.limited]="!isFeatureIncluded(feature, 'starter') && getFeatureValue(feature, 'starter') !== false">
            <span [innerHTML]="getFeatureDisplayValue(feature, 'starter')"></span>
          </div>
          
          <div class="feature-value highlighted"
               [class.included]="isFeatureIncluded(feature, 'professional')"
               [class.limited]="!isFeatureIncluded(feature, 'professional') && getFeatureValue(feature, 'professional') !== false">
            <span [innerHTML]="getFeatureDisplayValue(feature, 'professional')"></span>
          </div>
          
          <div class="feature-value"
               [class.included]="isFeatureIncluded(feature, 'enterprise')"
               [class.limited]="!isFeatureIncluded(feature, 'enterprise') && getFeatureValue(feature, 'enterprise') !== false">
            <span [innerHTML]="getFeatureDisplayValue(feature, 'enterprise')"></span>
          </div>
          
          <div class="feature-value"
               [class.included]="isFeatureIncluded(feature, 'custom')"
               [class.limited]="!isFeatureIncluded(feature, 'custom') && getFeatureValue(feature, 'custom') !== false">
            <span [innerHTML]="getFeatureDisplayValue(feature, 'custom')"></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="faq-section">
    <div class="faq-header">
      <h2>Frequently Asked Questions</h2>
    </div>
    
    <div class="faq-grid">
      <div class="faq-item">
        <h4>Is there a free trial?</h4>
        <p>Yes! All paid plans include a 14-day free trial with full access to all features. No credit card required to start.</p>
      </div>
      
      <div class="faq-item">
        <h4>Can I change plans later?</h4>
        <p>Absolutely. You can upgrade or downgrade your plan at any time. Changes take effect at your next billing cycle.</p>
      </div>
      
      <div class="faq-item">
        <h4>What payment methods do you accept?</h4>
        <p>We accept all major credit cards (Visa, MasterCard, American Express) and bank transfers for Enterprise plans.</p>
      </div>
      
      <div class="faq-item">
        <h4>Is my data secure?</h4>
        <p>Yes. We use bank-level security with 256-bit SSL encryption. Your data is backed up daily and stored securely.</p>
      </div>
      
      <div class="faq-item">
        <h4>Can I cancel anytime?</h4>
        <p>Yes, you can cancel your subscription at any time. Your account will remain active until the end of your billing period.</p>
      </div>
      
      <div class="faq-item">
        <h4>Do you offer discounts for nonprofits?</h4>
        <p>Yes! We offer a 50% discount for qualified nonprofit organizations and educational institutions. Contact us for details.</p>
      </div>
    </div>
  </div>

  <!-- CTA Section -->
  <div class="cta-section">
    <div class="cta-content">
      <h2>Ready to get started?</h2>
      <p>Join thousands of freelancers and teams who trust FreelanceTimeTracker</p>
      
      <div class="cta-actions">
        <button class="btn btn-primary btn-large" (click)="startFreeTrial()">
          Start Your Free Trial
        </button>
        <button class="btn btn-secondary btn-large" (click)="contactSales()">
          Talk to Sales
        </button>
      </div>
      
      <div class="cta-note">
        No credit card required • 14-day free trial • Cancel anytime
      </div>
    </div>
  </div>
</div>